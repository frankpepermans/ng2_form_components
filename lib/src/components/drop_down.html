<div [ngClass]="cssMap">
    <div class="drop-down-header" (click)="openOrCloseFromHeader($event)" [ngClass]="{'open':isOpen}">
        <div class="header">
            <span class="header-label">{{currentHeaderLabel}}</span>
            <label *ngIf="selectedItems != null && selectedItems.isNotEmpty" class="num-selected">{{selectedItems.length}}</label>
            <i [ngClass]="{'fa-chevron-down': !isOpen, 'fa-chevron-up': isOpen}" class="fa drop-down-icon"></i>
        </div>
    </div>
    <div *ngIf="hasSelectableItems()" class="drop-down-list">
        <div tween [beforeDestroyChildTrigger]="beforeDestroyChild" class="mask">
            <list-renderer
                    [resolveRendererHandler]="resolveRendererHandler"
                    [labelHandler]="labelHandler"
                    [allowMultiSelection]="allowMultiSelection"
                    [dataProvider]="dataProviderCast"
                    [selectedItems]="selectedItemsCast"
                    [childOffset]="childOffset"
                    (selectedItemsChanged)="updateSelectedItemsCast($event)"
                    (itemRendererEvent)="handleItemRendererEvent($event)"
                    (requestClose)="closeFromList()">
            </list-renderer>
        </div>
    </div>
</div>